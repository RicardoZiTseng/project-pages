---
layout: post
author: Ricardo
title: pat踩坑记(2)
subtitle: 错排问题 青蛙跳阶问题 因数分解问题
tags: C++ C pat
---

#### 错排问题

**题目描述**

NowCoder每天要给很多人发邮件。有一天他发现发错了邮件，把发给A的邮件发给了B，把发给B的邮件发给了A。于是他就思考，要给n个人发邮件，在每个人仅收到1封邮件的情况下，有多少种情况是所有人都收到了错误的邮件？
即没有人收到属于自己的邮件。

**输入描述**

输入包含多组数据，每组数据包含一个正整数n（2≤n≤20）。

**输入例子**

> 2
>
> 3

**输出例子**

> 1
>
> 2



**解析**

这道题重要在于递归的思想：

假设用`A B C D E...`表示写着友人名字的信封，`a b c d e...`表示相应的信件，将`n`封信件错装的总数记为`D(n)`。假设a错装进B中，就有两种情况：

1.b装入A中，那么剩下的n-2封信件的错排与a b无关，所以有`D(n-2)`种排法；

2.b装入除A B以外的信封，其实就是将除a以外的n-1封信件与除B以外的n-1个信封错排，因此有`D(n-1)`种排法；

所以，在a装入B的情况下有`D(n-1)+D(n-2)`种排法；

而且a还能装入`C D E F...`，也就是说，a的装入方法还有`n-1`种，所以`D(n)=(n-1)[D(n-1)+D(n-2)]`



#### 青蛙跳阶问题

**题目描述一**

NowCoder小时候走路喜欢蹦蹦跳跳，他最喜欢在楼梯上跳来跳去。
但年幼的他一次只能走上一阶或者一下子蹦上两阶。
现在一共有N阶台阶，请你计算一下NowCoder从第0阶到第N阶共有几种走法。

**解析**

假设n阶台阶有``F(n)``种走法，起跳的时候有两种选择：

- 一个是走一阶，那么就还有`n-1`阶台阶要走，也就是有`F(n-1)`种走法

- 一个是蹦两阶，那么就有`F(n-2)`种走法

  所以`F(n)=F(n-1) + F(n-2)`

如果改一下条件：

> 一次可以跳上1级台阶，也可以跳上2级台阶。。。，也可以跳上n级台阶，此时跳上1个n级台阶，共有多少中跳法?

答案应该是`F(n)=F(n-1)+F(n-2)+F(n-3)+...+F(1)`



**题目描述二**

在2×n的一个长方形方格中,用一个1× 2的骨牌铺满方格,输入n ,输出铺放方案的总数.

例如n=3时,为2× 3方格，骨牌的铺放方案有三种,如下图：

![](http://uploadfiles.nowcoder.com/images/20141114/51_1415949553292_1(1).jpg)

**解析**

每增加一列,新增的放置方案有：

​	1.前`n-1`列的所有排列方案末端加上一个竖排

​	2.前`n-2`列的所有排列方案末端加上两个横牌

递推公式为:

`F(n)=F(n-1)+F(n-2)`